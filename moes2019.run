/*---------------------------------------------------------------------------------------------------------------------------------------
Load the main model and its data
---------------------------------------------------------------------------------------------------------------------------------------*/
model moes2019.mod;
data moes2019.dat;

/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 1 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b1.dat;

/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 2 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b2.dat;

/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 3 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b3.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 4 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b4.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 5 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b5.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 6 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b6.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 7 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b7.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 8 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b8.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 9 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b9.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 10 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b10.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 11 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b11.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 12 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b12.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 13 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b13.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 14 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b14.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 15 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b15.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 16 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b16.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 17 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b17.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 18 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b18.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 19 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b19.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 20 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b20.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 21 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b21.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 22 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b22.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 23 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b23.dat;/*---------------------------------------------------------------------------------------------------------------------------------------
Load building 24 data
---------------------------------------------------------------------------------------------------------------------------------------*/
data moes2019b24.dat;/*---------------------------------------------------------------------------------------------------------------------------------------

Load the boiler model and its data
---------------------------------------------------------------------------------------------------------------------------------------*/
model moes2019boiler.mod;
data moes2019boiler.dat;

/*---------------------------------------------------------------------------------------------------------------------------------------
Load the PV model and its data
---------------------------------------------------------------------------------------------------------------------------------------*/
model moes2019PV.mod;
data moes2019PV.dat;

/*---------------------------------------------------------------------------------------------------------------------------------------
Set the grid parameters: resource flow and fmax
---------------------------------------------------------------------------------------------------------------------------------------*/
let  Flowout['Natgas','NatGasGrid'] := refSize;
let  Fmax['NatGasGrid'] := refSize;
let  Flowout['Electricity','ElecGridBuy'] := refSize;
let  Fmax['ElecGridBuy'] := refSize;
let  Flowin['Electricity','ElecGridSell'] := refSize;
let  Fmax['ElecGridSell'] := refSize;

/*---------------------------------------------------------------------------------------------------------------------------------------
AMPL options
---------------------------------------------------------------------------------------------------------------------------------------*/
option solver 'gurobi';											# choose the solver
option omit_zero_rows 1;										# to not display 0 in rows
option omit_zero_cols 1;										# to not display 0 in columns

/*---------------------------------------------------------------------------------------------------------------------------------------
Solve the problem
---------------------------------------------------------------------------------------------------------------------------------------*/
solve;

/*---------------------------------------------------------------------------------------------------------------------------------------
Display commands
---------------------------------------------------------------------------------------------------------------------------------------*/
display Edemand;
display Qheating;
display Qheatingdemand;

display mult;
display mult_t;

display Flowin;
display Flowout;

display FlowInUnit;
display FlowOutUnit;

display Buildings;

display usedroofArea;

display InvCost;

display OpCost;

display use;

